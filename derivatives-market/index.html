<!DOCTYPE html>

<html>
	<head>
		<title>Options Market Testing</title>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
		<script>
			$(window).ready(function()	{
				$("#btn-input").click(function(args)	{
					// Variables
					var	symbol=	$("#text-input").val();
					
					$("#text-input").css(
						"border-color",
						"inherit"
					);
					
					try	{
						jQuery.ajax({
							url:	"https://sandbox.tradier.com/v1/markets/options/chains"+
								"?symbol="+symbol+"&expiration=2017-11-03",
							type:	"GET",
							beforeSend:	function(xhr)	{
								xhr.setRequestHeader(
									"Authorization",
									"Bearer n1xFpfvKgxD6GucvtWXRPVNOPmxT"
								);
								xhr.setRequestHeader(
									"Accept",
									"application/json"
								);
							},
							success:	function(data, status, xhr)	{
								try	{
									// Variables
									var	options=	data.options.option;
									var	str=	"";
									
									console.log(data);
									
									for(var i= 0; i< options.length; i++)	{
										str+=	(
											"<div class='option'>"+
											"Symbol: "+options[i].root_symbol+"<br/>"+
											"Options Type: "+options[i].option_type+"<br/>"+
											"Striking Price: $"+options[i].strike+"<br/>"+
											"Trading Date: "+(new Date(options[i].trade_date))+"<br/>"+
											"Price Change: "+options[i].last+"<br/>"+
											"Contract Size: "+options[i].contract_size+"<br/>"+
											"Asking Price: "+optinos[i].ask+"<br/>"+
											"Asking Date: "+(new Date(optinos[i].ask_date))+"<br/>"+
											"Asking Size: "+options[i].asksize+"<br/>"+
											"</div><br/>"
										);
									}
									
									$(".container").html(str);
								} catch(e)	{
									$("#text-input").css(
										"border-color",
										"red"
									);
								}
							},
							error:	function(xhr, status, err)	{
								console.log(status, xhr);
								console.log(err);
							}
						});
					} catch(e)	{
						$("#text-input").css(
							"border-color",
							"red"
						);
					}
				});
			});
		</script>
		
		<style>
			.option	{
				padding:	16px;
				background-color:	#f8fdf8;
				border:	1px solid #101820;
			}
		</style>
	</head>
	<body>
		<div class="input">
			<input type="text" id="text-input" value="msft" />
			<input type="button" id="btn-input" value="Find Options" />
		</div>
		<div class="container"></div>
	</body>
</html>