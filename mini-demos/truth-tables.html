
<!DOCTYPE html>

<html>
	<head>
		<title>If this, then that</title>
		<style>
			body	{
				margin:	16px;
			}
			table	{
				margin:	0px;
				border-spacing:	0px;
			}
			tr	{
				background-color:	#fffaff;
				border:	none;
			}
			tr:nth-child(2n+1)	{
				background-color:	#dbdbdb;
			}
			tr:hover	{
				background-color:	#b4c4f4;
			}
			th	{
				min-width:	64px;
				background-color:	#6ab4e6;
				border-top:	1px solid black;
				border-left:	1px solid black;
				border-right:	1px solid black;
			}
			td	{
				min-width:	48px;
				border-left:	0.5px dotted black;
				border-right:	0.5px dotted black;
				border-top:	0.5px solid #101820;
				border-bottom:	0.5px solid #101820;
				text-align:	center;
			}
			
			tr.duplicate	{
				height:	128px;
			}
			
			.hidden	{	display:	none;	}
			.cc-true	{	color:	#4d4dff;	}
			.cc-false	{	color:	#ff0000;	}
			.cc-error	{	background-color:	#ffbabe;	}
			.clickable	{	user-select:	none;	}
			.clickable:hover	{	cursor:	pointer;	}
		</style>
	</head>
	
	<body>
		<div class="container">
			<div class="input-stuff">
				<button id="gen">Generate Conditional</button>
				<input type="text" id="txt" placeholder="if-then statement" style="width:256px;"/>
				<button id="btn">Evaluate Truth Table</button>
				<button id="swap">Logic Keyword Switch</button>
			</div>
			<div id="output"></div>
		</div>
		<script src="../js/PAML.js"></script>
		<script type="text/javascript">
			// Variables
			var	txt=	document.getElementById("txt");
			var	btn=	document.getElementById("btn");
			var	output=	document.getElementById("output");
			var	swap=	document.getElementById("swap");
			var	gen=	document.getElementById("gen");
			var	table=	false;
			var	hypothesis=	[
				"P"
			];
			var	conclusion=	[
				"Q"
			];
			var	statements=	[
				function(p, q)	{	return "if "+p+" then "+q;	},
				function(p, q)	{	return p+" implies "+q;	},
				function(p, q)	{	return p+" only if "+q;	},
				function(p, q)	{	return p+" iff "+q;	},
				function(p, q)	{	return p+" => "+q;	},
				function(p, q)	{	return p+" <= "+q;	},
				function(p, q)	{	return p+" if and only if "+q;	},
				function(p, q)	{	return p+" <=> "+q;	},
				function(p, q)	{	return p+" is sufficient for "+q;	},
				function(p, q)	{	return p+" is necessary for "+q;	},
				function(p, q)	{	return p+" is necessary and sufficient for "+q;	},
				function(p, q)	{	return p+" is sufficient and necessary for "+q;	}
			];
			
			gen.addEventListener("click", function()	{
				// Variables
				var	p=	Math.floor(Math.random()*hypothesis.length);
				var	q=	p;
				var	s=	Math.floor(Math.random()*statements.length);
				var	str=	"";
				
				p=	hypothesis[p];
				q=	conclusion[q];
				s=	statements[s];
				str=	s(p, q);
				
				txt.value=	str;
			});
			
			btn.addEventListener("click", function()	{
				// Variables
				var	p=	PAML.createConditionTree(txt.value);
				var	q=	p.rebuild();
				var	t=	PAML.createTruthTable(p, q);
				var	d, q;
				
				output.innerHTML=	"";
				output.append(t.toHTML());
				d=	document.getElementsByClassName("duplicate");
				for(var i= d.length-1; i>= 0; i--)	{
					d[i].remove();
				}
				q=	document.getElementsByClassName("table-2");
				for(var i= 0; i< q.length; i++)	{
					q[i].classList.add("hidden");
				}
			});
			
			swap.addEventListener("click", function()	{
				if(output.innerHTML== "")
					return;
				// Variables
				var	t1=	document.getElementsByClassName("table-1");
				var	t2=	document.getElementsByClassName("table-2");
				var	len=	t1.length;
				
				for(var i= 0; i< len; i++)	{
					if(table)	{
						t1[i].classList.remove("hidden");
						t2[i].classList.add("hidden");
					}
					else	{
						t1[i].classList.remove("hidden");
						t2[i].classList.add("hidden");
					}
				}
				table=	!table;
			});
		</script>
	</body>
</html>